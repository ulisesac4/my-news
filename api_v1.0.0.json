{"openapi":"3.0.0","info":{"title":"MyNewsletter API","description":"Example of CRUD API","version":"1.0.0"},"paths":{"/issues":{"post":{"tags":["Issue"],"description":"Create an Issue","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The Issue's name.","example":"My-Issue"},"content":{"type":"string","description":"The Issue's html content without taking in mind the Template html.","example":"My-Issue"},"attachments":{"type":"string","description":"The Issue's attachments in array form.","example":"My-Issue"},"publishDate":{"type":"string","description":"The Issue's publish date.","example":"My-Issue"},"isSent":{"type":"string","description":"The Issue's state of being sent.","example":"My-Issue"},"newsletterId":{"type":"string","description":"The Newsletter id where this Issue is put at.","example":"My-Issue"},"templateId":{"type":"string","description":"The Template id where this Issue is put at.","example":"My-Issue"}},"required":["name"]}}}},"responses":{"200":{"description":"API has created succesfully the Issue","content":{"application/json":{"schema":{"type":"object","properties":{"issue":{"type":"object","properties":{"id":{"type":"integer","description":"The create Issue ID.","example":1},"name":{"type":"string","description":"The Issue's name.","example":"My-Issue"},"content":{"type":"string","description":"The Issue's name.","example":"My-Issue"},"attachments":{"type":"string","description":"The Issue's name.","example":"My-Issue"},"publishDate":{"type":"string","description":"The Issue's name.","example":"My-Issue"},"isSent":{"type":"string","description":"The Issue's name.","example":"My-Issue"},"NewsletterId":{"type":"string","description":"The Issue's name.","example":"My-Issue"},"TemplateId":{"type":"string","description":"The Issue's name.","example":"My-Issue"},"createdAt":{"type":"string","description":"The Issue's created hour in iso format.","example":"2022-12-06T00:53:42Z"},"updatedAt":{"type":"string","description":"The Issue's updated hour in iso format.","example":"2022-12-06T00:53:42Z"}}}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}},"delete":{"tags":["Issue"],"description":"Destroy an Issue only","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"text","description":"The Issue's id.","example":2}},"required":["id"]}}}},"responses":{"200":{"description":"API has deleted succesfully the Issue","content":{"application/json":{"schema":{"type":"object","properties":{"rowsDeleted":{"type":"integer","description":"The number of issues updated, normally must be 1 it may be 0 if it didn't updated.","example":1}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}},"patch":{"tags":["Issue"],"description":"Update an Issue","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"The create Issue ID.","example":1},"name":{"type":"string","description":"The Issue's name.","example":"My Issue"},"content":{"type":"string","description":"The Issue's html content without taking in mind the Template html."},"attachments":{"type":"string","description":"The Issue's attachments in array form.","example":[{"filename":"name.jpg","content":"The buffer of that file"}]},"publishDate":{"type":"string","description":"The Issue's publish date.","example":"2022-12-06T00:53:42Z"},"isSent":{"type":"string","description":"The Issue's state of being sent.","example":false},"newsletterId":{"type":"string","description":"The Newsletter id where this Issue is put at.","example":1},"templateId":{"type":"string","description":"The Template id where this Issue is put at.","example":2}},"required":["id","name"]}}}},"responses":{"200":{"description":"API has updated succesfully the Issue","content":{"application/json":{"schema":{"type":"object","properties":{"rowsUpdated":{"type":"integer","description":"The number of issues updated, normally must be 1 it may be 0 if it didn't updated.","example":1}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}}},"/issues/send":{"post":{"tags":["Issue"],"description":"Sends an Issue","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"text","description":"The Issue's id.","example":2}},"required":["id"]}}}},"responses":{"200":{"description":"API has sent succesfully the Issue","content":{"application/json":{"schema":{"type":"object","properties":{"isSent":{"type":"booelan","description":"Checks if the issue was sent or not","example":true}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}}},"/issues/issue/{id}":{"get":{"tags":["Issue"],"description":"Get one Issues of","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"The Issue's id.","example":2}],"responses":{"200":{"description":"API has fetched succesfully the Issue","content":{"application/json":{"schema":{"type":"object","properties":{"issue":{"type":"object","properties":{"id":{"type":"integer","description":"The create Issue ID.","example":1},"name":{"type":"string","description":"The Issue's name.","example":"My Issue"},"content":{"type":"string","description":"The Issue's html content without taking in mind the Template html."},"attachments":{"type":"array","description":"The Issue's attachments in array form.","example":[{"filename":"name.jpg","content":"The buffer of that file"}]},"publishDate":{"type":"string","description":"The Issue's publish date.","example":"2022-12-06T00:53:42Z"},"isSent":{"type":"string","description":"The Issue's state of being sent.","example":false},"NewsletterId":{"type":"string","description":"The Newsletter id where this Issue is put at.","example":1},"TemplateId":{"type":"string","description":"The Template id where this Issue is put at.","example":2},"createdAt":{"type":"string","description":"The Issue's created hour in iso format.","example":"2022-12-06T00:53:42Z"},"updatedAt":{"type":"string","description":"The Issue's updated hour in iso format.","example":"2022-12-06T00:53:42Z"}}}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}}},"/issues/{newsletterId}":{"get":{"tags":["Issue"],"description":"Get all Issues of a Newsletter","parameters":[{"in":"path","name":"newsletterId","schema":{"type":"integer"},"required":true,"description":"The Newsletter's id.","example":2}],"responses":{"200":{"description":"API has fetched succesfully the Issues","content":{"application/json":{"schema":{"type":"object","properties":{"issues":{"type":"array","items":{"properties":{"id":{"type":"integer","description":"The create Issue ID.","example":1},"name":{"type":"string","description":"The Issue's name.","example":"My Issue"},"content":{"type":"string","description":"The Issue's html content without taking in mind the Template html."},"attachments":{"type":"string","description":"The Issue's attachments in array form.","example":[{"filename":"name.jpg","content":"The buffer of that file"}]},"publishDate":{"type":"string","description":"The Issue's publish date.","example":"2022-12-06T00:53:42Z"},"isSent":{"type":"string","description":"The Issue's state of being sent.","example":false},"NewsletterId":{"type":"string","description":"The Newsletter id where this Issue is put at.","example":1},"TemplateId":{"type":"string","description":"The Template id where this Issue is put at.","example":2},"createdAt":{"type":"string","description":"The Issue's created hour in iso format.","example":"2022-12-06T00:53:42Z"},"updatedAt":{"type":"string","description":"The Issue's updated hour in iso format.","example":"2022-12-06T00:53:42Z"}}}}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}}},"/newsletters":{"post":{"tags":["Newsletter"],"description":"Create an Newsletter","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The Newsletter's name.","example":"My-Newsletter"}},"required":["name"]}}}},"responses":{"200":{"description":"API has created succesfully the Newsletter","content":{"application/json":{"schema":{"type":"object","properties":{"newsletter":{"type":"object","properties":{"id":{"type":"integer","description":"The create Newsletter ID.","example":1},"name":{"type":"string","description":"The Newsletter's name.","example":"My-Newsletter"},"createdAt":{"type":"string","description":"The Newsletter's created hour in iso format.","example":"2022-12-06T00:53:42Z"},"updatedAt":{"type":"string","description":"The Newsletter's updated hour in iso format.","example":"2022-12-06T00:53:42Z"}}}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}},"delete":{"tags":["Newsletter"],"description":"Destroy an Newsletter only, issues and recipients will remain but will become inaccesible","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"text","description":"The Newsletter's id.","example":2}},"required":["id"]}}}},"responses":{"200":{"description":"API has deleted succesfully the Newsletter","content":{"application/json":{"schema":{"type":"object","properties":{"rowsDeleted":{"type":"integer","description":"The number of newsletters updated, normally must be 1 it may be 0 if it didn't updated.","example":1}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}},"get":{"tags":["Newsletter"],"description":"Get all Newsletters","responses":{"200":{"description":"API has fetched succesfully the Newsletters","content":{"application/json":{"schema":{"type":"object","properties":{"newsletters":{"type":"array","items":{"properties":{"id":{"type":"integer","description":"The Newsletter's ID.","example":1},"name":{"type":"string","description":"The Newsletter's name.","example":"My-Newsletter"},"createdAt":{"type":"string","description":"The Newsletter's created hour in iso format.","example":"2022-12-06T00:53:42Z"},"updatedAt":{"type":"string","description":"The Newsletter's updated hour in iso format.","example":"2022-12-06T00:53:42Z"}}}}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}},"patch":{"tags":["Newsletter"],"description":"Update an Newsletter","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"The Newsletter's ID to update.","example":1},"name":{"type":"string","description":"The Newsletter's name.","example":"My-Newsletter"}},"required":["id","name"]}}}},"responses":{"200":{"description":"API has updated succesfully the Newsletter","content":{"application/json":{"schema":{"type":"object","properties":{"rowsUpdated":{"type":"integer","description":"The number of newsletters updated, normally must be 1 it may be 0 if it didn't updated.","example":1}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}}},"/recipients":{"post":{"tags":["Recipient"],"description":"Create an Recipient","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"emails":{"type":"array","items":{"type":"string","example":"onemail@gmail.com"}},"newsletterId":{"description":"The id of the Newsletter where these recipients will be put at.","type":"string","example":1}},"required":["emails","newsletterId"]}}}},"responses":{"200":{"description":"API has created succesfully the Recipient","content":{"application/json":{"schema":{"type":"object","properties":{"recipients":{"type":"object","properties":{"id":{"type":"integer","description":"The create Recipient ID.","example":1},"email":{"type":"string","description":"The Recipient's email.","example":"one-mail@gmail.com"},"createdAt":{"type":"string","description":"The Recipient's created hour in iso format.","example":"2022-12-06T00:53:42Z"},"updatedAt":{"type":"string","description":"The Recipient's updated hour in iso format.","example":"2022-12-06T00:53:42Z"}}}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}},"delete":{"tags":["Recipient"],"description":"Destroy an Recipient only","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"text","description":"The Recipient's id.","example":2}},"required":["id"]}}}},"responses":{"200":{"description":"API has deleted succesfully the Recipient","content":{"application/json":{"schema":{"type":"object","properties":{"rowsDeleted":{"type":"integer","description":"The number of recipients updated, normally must be 1 it may be 0 if it didn't updated.","example":1}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}}},"/recipients/{id}":{"get":{"tags":["Recipient"],"description":"Get all Recipients","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"The Template's id.","example":2}],"responses":{"200":{"description":"API has fetched succesfully the Recipients","content":{"application/json":{"schema":{"type":"object","properties":{"recipients":{"type":"object","properties":{"id":{"type":"integer","description":"The create Recipient ID.","example":1},"email":{"type":"string","description":"The Recipient's email.","example":"one-mail@gmail.com"},"createdAt":{"type":"string","description":"The Recipient's created hour in iso format.","example":"2022-12-06T00:53:42Z"},"updatedAt":{"type":"string","description":"The Recipient's updated hour in iso format.","example":"2022-12-06T00:53:42Z"}}}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}}},"/templates":{"post":{"tags":["Template"],"description":"Create an Template","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The Template's name.","example":"My-Template"},"content":{"type":"string","description":"The Template's html content. It must contain the element \">>!content!<<\" without \"\" in the desired tag, this is where the newsletter lives."}},"required":["name","content"]}}}},"responses":{"200":{"description":"API has created succesfully the Template","content":{"application/json":{"schema":{"type":"object","properties":{"template":{"type":"object","properties":{"id":{"type":"integer","description":"The create Template ID.","example":1},"name":{"type":"string","description":"The Template's name.","example":"My-Template"},"content":{"type":"string","description":"The Template's html content."},"createdAt":{"type":"string","description":"The Template's created hour in iso format.","example":"2022-12-06T00:53:42Z"},"updatedAt":{"type":"string","description":"The Template's updated hour in iso format.","example":"2022-12-06T00:53:42Z"}}}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}},"delete":{"tags":["Template"],"description":"Destroy an Template only, issues related to this won't be able to send their newsletter.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"text","description":"The Template's id.","example":2}},"required":["id"]}}}},"responses":{"200":{"description":"API has deleted succesfully the Template","content":{"application/json":{"schema":{"type":"object","properties":{"rowsDeleted":{"type":"integer","description":"The number of templates updated, normally must be 1 it may be 0 if it didn't updated.","example":1}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}},"get":{"tags":["Template"],"description":"Get all Templates","responses":{"200":{"description":"API has fetched succesfully all the Templates","content":{"application/json":{"schema":{"type":"object","properties":{"templates":{"type":"array","items":{"properties":{"id":{"type":"integer","description":"The Template's ID.","example":1},"name":{"type":"string","description":"The Template's name.","example":"My-Template"},"content":{"type":"string","description":"The Template's html content."},"createdAt":{"type":"string","description":"The Template's created hour in iso format.","example":"2022-12-06T00:53:42Z"},"updatedAt":{"type":"string","description":"The Template's updated hour in iso format.","example":"2022-12-06T00:53:42Z"}}}}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}},"patch":{"tags":["Template"],"description":"Update an Template","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"The Template's ID to update.","example":1},"name":{"type":"string","description":"The Template's name.","example":"My-Template"},"content":{"type":"string","description":"The Template's html content."}},"required":["id","name"]}}}},"responses":{"200":{"description":"API has updated succesfully the Template","content":{"application/json":{"schema":{"type":"object","properties":{"rowsUpdated":{"type":"integer","description":"The number of templates updated, normally must be 1 it may be 0 if it didn't updated.","example":1}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}}},"/templates/{id}":{"get":{"tags":["Template"],"description":"Show the full contents of a Template","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"The Template's id.","example":2}],"responses":{"200":{"description":"API has shown succesfully the details of the Template","content":{"application/json":{"schema":{"type":"object","properties":{"template":{"type":"object","properties":{"id":{"type":"integer","description":"The create Template ID.","example":1},"name":{"type":"string","description":"The Template's name.","example":"My-Template"},"content":{"type":"string","description":"The Template's html content."},"createdAt":{"type":"string","description":"The Template's created hour in iso format.","example":"2022-12-06T00:53:42Z"},"updatedAt":{"type":"string","description":"The Template's updated hour in iso format.","example":"2022-12-06T00:53:42Z"}}}}}}}},"400":{"description":"An error has ocurred","content":{"text/plain; charset=utf-8":{"schema":{"type":"string","example":"name is invalid"}}}}}}}},"components":{},"tags":[]}